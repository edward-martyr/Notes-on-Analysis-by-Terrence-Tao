\section{Set Theory}
\subsection{Notes}
\subsubsection{Theorems}
\begin{axiom}[Sets are objects]
    If $A$ is a set, then $A$ is also an object.
\end{axiom}
\begin{axiom}[Empty set]
    There exists a set $\emptyset$, such that for every object $x$ we have $x \notin \emptyset$.
\end{axiom}
\begin{axiom}[Singleton sets and pair sets]
    If $a$ is an object, then there exists a set $\set{a}$, such that for every object $y$, we have $y\in{a}$ if and only if $y=a$; we refer to $\set{a}$ as the singleton set whose element is $a$. Furthermore, if $a$ and $b$ are objects, then there exists a set $\set{a, b}$, such that for every object $y$, we have $y \in \set{a, b}$ if and only if $y = a$ or $y = b$; we refer to this set as the pair set formed by $a$ and $b$.
\end{axiom}
\begin{axiom}[Pairwise union]
    Given any two sets $A$, $B$, there exists a set $A \cup B$ such that \[x\in A\cup B \iff (x\in A \text{ or } x\in B).\]
\end{axiom}
\begin{axiom}[Axiom of specification]
    Let $A$ be a set, then for any object $y$, there exists a set $\set{x\in A | P(x)}$ such that \[y\in \Set{x\in A | P(x)} \iff (y\in A \text{ and } P(y) \text{ is true}).\] 
\end{axiom}
\begin{axiom}[Replacement]
    Let $A$ be a set. For any object $x \in A$, and any object $y$, suppose we have a statement $P(x,y)$ pertaining to $x$ and $y$, such that for each $x \in A$ there is at most one $y$ for which $P(x,y)$ is true. Then there exists a set $\Set{y | P (x, y) \text{ is true for some } x \in A}$, such that for any object $z$, \[z \in \Set{y | P(x,y)\text{ is true for some }x \in A} \iff P(x,z)\text{ is true for some }x \in A.\]
\end{axiom}
\begin{axiom}[Infinity]
    There exists a set $\mathbf{N}$, whose elements are called natural numbers, as well as an object $0$ in $\mathbf{N}$, and an object $n\inc$ assigned to every natural number $n \in \mathbf{N}$, such that the Peano axioms (Axioms 2.1 -- 2.5) hold.
\end{axiom}
\stepcounter{axiom} % skip the axiom of universal specification
\begin{axiom}[Regularity]
    If $A$ is a non-empty set, then there is at least one element $x$ of $A$ which is either not a set, or is disjoint from $A$.
\end{axiom}

\subsubsection{Remarks}
Note that some axioms listed here are redundant: we only need one axiom between the singleton sets and the pair sets axioms; the axiom of specification is implied by the axiom of replacement.

\subsection{Practices}
\begin{quote}
    Note that there can only be one empty set; if there were two sets $\emptyset$ and $\emptyset'$ which were both empty, then by Definition 3.1.4 they would be equal to each other (why?).
\end{quote}
\begin{proof}
    We shall prove that for every object $x \in \emptyset$ we have $x \in \emptyset'$, but this is vacuously true because for any object $x$ we have $x \notin \emptyset$. Likewise, it is vacuously true that for every object $x \in \emptyset'$ we have $x \in \emptyset$. Thus, $\emptyset = \emptyset'$.
\end{proof}

\begin{quote}
    If $A$, $B$, $A'$ are sets, and $A$ is equal to $A'$, then $A \cup B$ is equal to $A' \cup B$ (why? [\ldots]).
\end{quote}
\begin{proof}
    $A=A'$ implies that for every object $x$, $x\in A$ iff $x\in A'$. Thus, \[(x\in A \lor x\in B) \iff (x\in A' \lor x\in B).\] This is equivalent to that \[x\in A\cup B \iff x\in A'\cup B,\] which implies that $A\cup B = A'\cup B$.
\end{proof}

\paragraph{Exercise 3.1.1 (*Equality of sets is an equivalent class).}
\begin{proof}
    Let $A$, $B$, $C$ be sets.
    (Reflexive) For any $x \in A$, it is true that $x \in A$, so $A=A$.
    (Symmetric) If $A=B$, then it is true that $\forall x \in A : x \in B$ and $\forall x \in B : x \in A$. Thus, $\forall x \in B : x \in A$ and $\forall x \in A : x \in B$, so $B=A$.
    (Transitive) If $A=B$ and $B=C$, then ($\forall x \in A : x \in B$ and $\forall y \in B : y \in A$) and ($\forall x \in B : x \in C$ and $\forall y \in C : y \in B$) are true. Thus, $\forall x \in A : x \in B$, so $x\in C$ and $\forall y \in C : y \in B$, so $y \in A$. It implies that $A=C$.
\end{proof}

\paragraph{Exercise 3.1.2.}
\begin{proof}
    We only have to prove that $\emptyset \neq \set{\emptyset}$. This is because $\emptyset \in \set{\emptyset}$, but $\emptyset \notin \emptyset$ by definition.
\end{proof}

\paragraph{Exercise 3.1.3 (*The union operation).}
\begin{proof}
    By Axiom 3.4, we have \[x\in A\cup B \iff (x\in A \lor x\in B)\] and \[x\in B\cup A \iff (x\in B \lor x\in A),\] where \[(x\in A \lor x\in B) \iff (x\in B \lor x\in A).\] Thus, $x\in A\cup B$ iff $x\in B\cup A$, which implies that $A\cup B=B\cup A$.
\end{proof}
\begin{proof}
    Because $x\in \emptyset$ is false for any $x$, we have \[(x\in A \lor x\in A) \iff (x\in A \lor x\in \emptyset) \iff (x\in \emptyset \lor x\in A) \iff x\in A. \qedhere\]
\end{proof}

\paragraph{Exercise 3.1.4.}
\begin{proof}
    We have, for any object $x$, that \[ x\in A \implies x \in B \] and \[ x\in B \implies x \in A .\] Thus, $A=B$.
\end{proof}
\begin{proof}
    We have, for any object $x$, that \[ x\in A \implies x \in B \] and \[ x\in B \implies x \in C , \] thus \[ x\in A \implies x \in C ,\] so $A\subseteq C$. Because $A\neq B$, it is true that either $\exists x\in A: x\notin B$ or $\exists x\in B: x\notin A$. But $\forall x\in A: x \in B$, so $\exists x\in B: x\notin A$. Therefore, there exists some $x\in B$ such that $x\in C$ and $x\notin A$, which implies that \[ x\in A \not\iff x\in C ,\] which means that $A\neq C$. Thus, $A\subsetneq C$.
\end{proof}

\paragraph{Exercise 3.1.5.}
\begin{proof}
    We have $A\subseteq B$ if and only if \[x\in A \implies x\in B.\] We also have 
    \begin{align*}
        A \cup B = B &\iff (x\in A \cup B \iff x \in B) \\
        &\iff (x\in A \lor x\in B \iff x \in B) \\
        &\iff (x\in A \implies x\in B).
    \end{align*}
    We also have 
    \begin{align*}
        A \cap B = A &\iff (x\in A \cap B \iff x \in A) \\
        &\iff (x\in A \land x\in B \iff x \in A) \\
        &\iff (x\in A \implies x\in B).\qedhere
    \end{align*}
\end{proof}

\paragraph{Exercise 3.1.6.}
\begin{enumerate}\setcounter{enumi}{5}
    \item (Distributivity).
    \begin{proof}
        \begin{align*}
            &A \cap (B \cup C) = (A \cap B) \cup (A \cap C) 
            \\\iff& \big(x\in A \cap (B \cup C) \iff x\in (A \cap B) \cup (A \cap C) \big) \text{ for any object $x$}
            \\\iff& (x\in A \land x \in B \cup C \iff x \in A \cap B \lor x \in A \cap C)
            \\\iff& \big(x\in A \land (x \in B \lor x \in C) \iff (x \in A \land x \in B) \lor (x \in A \land x \in C) \big)
            \\\iff& \big( (x \in A \land x \in B) \lor (x \in A \land x \in C) 
            \\ &\qquad\iff (x \in A \land x \in B) \lor (x \in A \land x \in C) \big). \qedhere
        \end{align*}
    \end{proof}
    \item (Partition).
    \begin{proof}
        We shall deduce what is required for $A \cup (X \backslash A) = X$ to be true.
        \begin{align*}
            & A \cup (X \backslash A) = X
            \\\iff& \big( x \in A \cup (X \backslash A) \iff x \in X \big) \text{ for any object $x$}
            \\\iff& ( x \in A \lor x \in (X \backslash A) \iff x \in X )
            \\\iff& \big( x \in A \lor (x \in X \land x \notin A) \iff x \in X \big)
            \\\iff& \big( (x \in A \lor x \in X) \land (x \in A \lor x \notin A) \iff x \in X \big)
            \\\iff& ( x \in A \lor x \in X \iff x \in X ).
        \end{align*}
        But we also have $A \subseteq X$, and
        \begin{align*}
            & A \subseteq X
            \\\iff& (x \in A \iff x \in X)
            \\\iff& ( x \in A \lor x \in X \iff x \in X ). \qedhere
        \end{align*}
    \end{proof}
    \begin{proof}
        We shall deduce what is required for $A \cap (X\backslash A) = \emptyset$ to be true.
        \begin{align*}
            & A \cap (X\backslash A) = \emptyset
            \\\iff& \big( x \in A \cap (X\backslash A) \iff x \in \emptyset \big) \text{ for any object $x$}
            \\\iff& \big( x \in A \land x \in (X\backslash A) \iff x \in \emptyset \big) 
            \\\iff& \big( x \in A \land (x \in X \land x \notin A) \iff x \in \emptyset \big)
            \\\iff& \big( x \in X \land (x \in A \land x \notin A) \iff x \in \emptyset \big)
            \\\iff& ( x \in X \land \bot \iff \bot )
            \\\iff& (\bot \iff \bot),
        \end{align*}
        which is a true statement.
    \end{proof}
    \item (De Morgan laws).
    \begin{proof}
        \begin{align*}
            & X\backslash (A \cup B) = (X\backslash A) \cap (X\backslash B)
            \\\iff& \big(x \in X\backslash (A \cup B) \iff x \in (X\backslash A) \cap (X\backslash B) \big) \text{ for any object $x$}
            \\\iff& \big(x \in X \land x \notin A \cup B \iff x \in (X\backslash A) \land x \in (X\backslash B) \big)
            \\\iff& \big(x \in X \land \lnot (x \in A \lor x \in B) \iff (x \in X \land x \notin A) \land (x \in X \land x \notin B) \big)
            \\\iff& \big(x \in X \land (x \notin A \land x \notin B) \iff (x \in X \land x \in X) \land (x \notin A \land x \notin B) \big)
            \\\iff& \big(x \in X \land (x \notin A \land x \notin B) \iff x \in X \land (x \notin A \land x \notin B) \big). \qedhere
        \end{align*}
    \end{proof}
    \begin{proof}
        \begin{align*}
            & X\backslash (A \cap B) = (X\backslash A) \cup (X\backslash B)
            \\\iff& \big(x \in X\backslash (A \cap B) \iff x \in (X\backslash A) \cup (X\backslash B) \big) \text{ for any object $x$}
            \\\iff& \big(x \in X \land x \notin A \cap B \iff x \in (X\backslash A) \lor x \in (X\backslash B) \big)
            \\\iff& \big(x \in X \land \lnot (x \in A \land x \in B) \iff (x \in X \land x \notin A) \lor (x \in X \land x \notin B) \big)
            \\\iff& \big(x \in X \land (x \notin A \lor x \notin B) \iff (x \in X \land x \notin A) \lor (x \in X \land x \notin B) \big)
            \\\iff& \big( (x \in X \land x \notin A) \lor (x \in X \land x \notin B) \\&\qquad\iff (x \in X \land x \notin A) \lor (x \in X \land x \notin B) \big). \qedhere
        \end{align*}
    \end{proof}
\end{enumerate}

\paragraph{Exercise 3.1.7.}
\begin{proof}
    We shall just prove the last implication. 
    
    (1) We have $A\subseteq C$ and $B \subseteq C$, then for any object $x$, \[(x \in A \implies x\in C) \land (x \in B \implies x\in C).\] For any object $y\in A\cup B$, it is true that either $y\in A$ or $y\in B$. We discuss the two cases: if $y\in A$, then $y\in C$; if $y\in B$, then $y\in C$. Thus, \[\forall y \in A \cup B : y \in C,\] then $A \cup B \subseteq C$.

    (2) We have $A \cup B \subseteq C$, then for any object $x$, that $x\in A\cup B$ implies that $x\in C$. Furthermore, if either $x\in A$ or $x\in B$, then $x\in A\cup B$. For the sake of contradiction, suppose that one of $A$ and $B$ is not a subset of $C$. Without loss of generality, let $A \nsubseteq C $, then there exists some $y\in A$ such that $y\notin C$. But since $y\in A$, $x\in A\cup B$, which implies that $y \in C$, a contradiction.
\end{proof}

\paragraph{Exercise 3.1.8 (*Absorption laws).}
\begin{proof}
    \begin{align*}
        & A \cap (A \cup B) = A
        \\\iff& \big( x \in A \land x \in (A \cup B) \iff x \in A \big) \text{ for any object $x$}
        \\\iff& \big( x \in A \land (x \in A \lor x \in B) \iff x \in A \big)
        % \\\iff& \big( (x\in A \land x\in A) \lor (x\in A \land x\in B) \iff x \in A \big)
        % \\\iff& \big( x\in A \lor (x\in A \land x\in B) \iff x \in A \big)
        % \\\iff& \big( (x\in A \lor x\in A) \land (x\in A \lor x\in B) \iff x \in A \big)
        \\\iff& \bigg( \Big(x \in A \lor \big(x\in B \land \lnot (x \in B) \big) \Big) \land (x \in A \lor x \in B) \iff x \in A \bigg)
        \\\iff& \Big( (x\in A \lor x \in B) \land \big( x\in A \lor \lnot(x \in B) \big) \land (x\in A \lor x \in B) \iff x \in A \Big)
        \\\iff& \Big( (x\in A \lor x \in B) \land \big( x\in A \lor \lnot(x \in B) \big) \iff x \in A \Big)
        \\\iff& \Big( x\in A \lor \big(x\in B \land \lnot(x\in B) \big) \iff x \in A \Big)
        \\\iff& ( x\in A \iff x \in A ). \qedhere
    \end{align*}
\end{proof}
\begin{proof}
    \begin{align*}
        & A \cup (A \cap B) = A
        \\\iff& \big( x \in A \lor x \in (A \cap B) \iff x \in A \big) \text{ for any object $x$}
        \\\iff& \big( x \in A \lor (x \in A \land x \in B) \iff x \in A \big)
        \\\iff& \bigg( \Big(x \in A \land \big(x\in B \lor \lnot (x \in B) \big) \Big) \lor (x \in A \land x \in B) \iff x \in A \bigg)
        \\\iff& \Big( (x\in A \land x \in B) \lor \big( x\in A \land \lnot(x \in B) \big) \lor (x\in A \land x \in B) \iff x \in A \Big)
        \\\iff& \Big( (x\in A \land x \in B) \lor \big( x\in A \land \lnot(x \in B) \big) \iff x \in A \Big)
        \\\iff& \Big( x\in A \land \big(x\in B \lor \lnot(x\in B) \big) \iff x \in A \Big)
        \\\iff& ( x\in A \iff x \in A ). \qedhere
    \end{align*}
\end{proof}

\paragraph{Exercise 3.1.9.}
\begin{proof}
    Without loss of generality, we only prove that $B = X \backslash A$. Because $A \cup B = X$, we have, for any object $x$, that if either $x\in A$ or $x\in B$, then $x\in X$. Thus, if $x\in B$, then $x\in X$. Furthermore, because $A \cap B = \emptyset$, we have that if both $x\in A$ and $x\in B$, then $x\in \emptyset$, which is false for all $x$. Therefore, $x\in A$ and $x\in B$ cannot both be true. Thus, if $x\in B$, then $x\notin A$. To summarise, for any $x\in B$, $x\in X$ and $x\notin A$.
\end{proof}

\paragraph{Exercise 3.1.10.}
\begin{proof}
    Firstly, we want to show that $(A\backslash B)\cap (A\cap B)=\emptyset$. It suffices to show that for any object $x$, \[x\in (A\backslash B) \land x \in (A\cap B) \iff x \in \emptyset.\] The left side 
    \begin{align*}
        & x\in (A\backslash B) \land x \in (A\cap B)
        \\\iff& (x\in A \land x \notin B) \land (x\in A \land x\in B)
        \\\iff& x\in A \land \lnot (x\in B) \land x\in B
        \\\iff& \bot,
    \end{align*}
    and the right side is false by definition. Thus, $A\backslash B$ and $A\cap B$ are disjoint.

    But $A\cap B = B\cap A$, so $B\backslash A$ and $A\cap B$ are disjoint likewise.

    We then want to show that $(A\backslash B)\cap (B\backslash A)=\emptyset$. It suffices to show that for any object $x$, \[x\in (A\backslash B) \land x \in (B\backslash A) \iff x \in \emptyset.\] The left side
    \begin{align*}
        & x\in (A\backslash B) \land x \in (B \backslash A)
        \\\iff& (x\in A \land x \notin B) \land (x\in B \land x\notin A)
        \\\iff& x\in A \land \lnot(x \in A) \land x\in B \land \lnot(x \in B)
        \\\iff& \bot,
    \end{align*}
    and the right side is false by definition. Thus, $A\backslash B$ and $B\backslash A$ are disjoint.

    Lastly, we want to show that $(A\backslash B)\cup (A\cap B) \cup (B\backslash A) = A\cup B$. It suffices to show that for any object $x$, \[x\in (A\backslash B) \land x \in (A\cap B) \land x \in (B\backslash A) \iff x \in A \lor x\in B.\] The left side
    \begin{allowdisplaybreaks}
    \begin{align*}
        & x\in (A\backslash B) \land x \in (A\cap B) \land x \in (B\backslash A) 
        \\\iff& (x\in A \land x \notin B) \lor (x\in A \land x\in B) \lor (x\in B \land x\notin A)
        \\\iff& (x \in A \land \lnot (x \in B)) \lor (x \in B \land \lnot (x \in A)) \lor (x\in A \land x\in B)
        \\\iff& \Big( \big( (x \in A \lor \lnot (x \in A)) \land (\lnot (x \in B) \lor \lnot (x \in A)) \big) 
            \\&\qquad \land \big( (x \in A \lor x \in B) \land (\lnot (x \in B) \lor x \in B) \big) \Big) \lor (x\in A \land x\in B)
        \\\iff& \big((\lnot (x \in B) \lor \lnot (x \in A)) \land (x \in A \lor x \in B)\big) \lor (x\in A \land x\in B)
        \\\iff& \big( \lnot ( x \in A \land x \in B) \land (x \in A \lor x \in B)\big) \lor (x\in A \land x\in B)
        \\\iff& \big( \lnot (x \in A \land x \in B) \lor (x \in A \land x \in B) \big) \land \big( (x \in A \lor x \in B) \land (x \in A \lor x \in B) \big)
        \\\iff& x \in A \lor x \in B. \qedhere
    \end{align*}
    \end{allowdisplaybreaks}
\end{proof}

\paragraph{Exercise 3.1.11 (*Axiom of replacement implies the axiom of specification).}
\begin{proof}
    Let $P(x)$ be a statement pertaining to $x$. Let $Q(x,y)$ be a statement pertaining to $x$ and $y$ such that $Q(x,y)$ is true if and only if $P(x)$ is true and $x=y$. According to the axiom of replacement, we have a set $\set{y | Q(x,y)\text{ is true for some }x \in A}$ such that \[z \in \Set{y | Q(x,y)\text{ is true for some }x \in A} \iff Q(x,z)\text{ is true for some }x \in A.\] The left side is true iff $z\in \set{x | P(x)\text{ is true for some }x \in A}$. The right side is true iff $P(x)$ is true for some $x \in A$. Then we have \[z\in \set{x | P(x)\text{ is true for some }x \in A} \iff P(x)\text{ is true for some }x \in A,\] which is the axiom of specification.
\end{proof}

\paragraph{Exercise 3.2.1.}
\begin{proof}
    Obvious.
\end{proof}

\paragraph{Exercise 3.2.2.}
\begin{proof}
    For the sake of contradiction, suppose there exists a set $A$ such that $A\in A$ is true. According to the axiom of regularity, for all $x\in A$, either $x\cap A = \emptyset$ or $x$ is not a set. We shall discuss the two cases: When $x\cap A = \emptyset$, we assume for the sake of contradiction that $A\in A$ falls into this case, then $A\cap A = \emptyset$. But $A\cap A = A$, so $A=\emptyset$. But $A\in A$, so $A\neq \emptyset$, a contradiction. When $x$ is not a set, we assume for the sake of contradiction that $A\in A$ falls into this case, but $A$ is a set, a contradiction. Therefore, there is no set $A$ such that $A\in A$, a contradiction.
\end{proof}
\begin{proof}
    For the sake of contradiction, suppose there exist sets $A$ and $B$ such that $A\in B$ and $B\in A$ are true. According to the singleton sets axiom, there exist sets $\set{A}$ and $\set{B}$; according to the axiom of pairwise union, there exists a set $X=\set{A}\cup\set{B}=\set{A,B}$. According to the axiom of regularity, for all $x\in X$, either $x\cap X = \emptyset$ or $x$ is not a set.
    We shall discuss the two cases: When $x\cap X = \emptyset$, we assume for the sake of contradiction that $A\in X$ falls into this case, then $A\cap X = \emptyset$. But because $B\in A$ and $B\in X$, we have $B\in A\cap X$, so $B\in \emptyset$, which is a contradiction; so $A\in X$ does not fall into this case. When $x$ is not a set, we assume for the sake of contradiction that $A\in X$ falls into this case, but $A$ is a set, a contradiction. Therefore, $\forall x\in X: x\neq A$, which contradicts that $A\in X$.
\end{proof}

\paragraph{Exercise 3.2.3.}
\begin{proof}
    (1) Assume the universal specification axiom. Then there exists a set \[\Omega = \set{x|0=0\text{ is true}},\] such that for all objects $x$, we have $x\in \Omega \iff 0=0 \iff \top$.
    (2) Assume we have a universal set $\Omega$ such that for all objects $x$, we have $x\in \Omega$. Then by the axiom of specification, for any object $z$, there exists a set $\set{y | P(y) \land y\in\Omega}$ such that \[z\in \Set{y | P(y) \land y\in\Omega} \iff (z\in \Omega \land P(z)).\] Because $x$ and $y$ are objects, $x\in\Omega$ and $y\in\Omega$ are always true. The above equivalence can be rewritten as \[z\in \Set{y | P(y)} \iff P(z),\] which is the axiom of universal specification.
\end{proof}

\paragraph{Exercise 3.3.1.}
\begin{proof}
    We shall just prove the substitution property. For all $x\in X$, 
    \begin{align*}
        g\circ f(x) &= g(f(x)) \\&= g\left(\tilde{f}(x)\right) && (x\in X)
        \\&= \tilde{g}\left(\tilde{f}(x)\right) && \left(\tilde{f}(x) \in Y\right)
        \\&= \tilde{g}\circ \tilde{f}(x). \qedhere
    \end{align*}
\end{proof}

\paragraph{Exercise 3.3.2.}
\begin{proof}
    For any $x,x'\in X$, we have \[ f(x) = f(x') \implies x=x';\] for any $y,y' \in Y$, we have \[ g(y) = g(y') \implies y=y'.\] Because $f(x),f(x')\in Y$, we have, for any $x,x'\in X$, that \[ g(f(x)) = g(f(x')) \implies f(x) = f(x') \implies x=x' ,\] which means that $g\circ f$ is injective.
\end{proof}
\begin{proof}
    For any $y\in Y$, we have \[ \exists x\in X : f(x)=y ;\] for any $z \in Z$, we have \[ \exists y\in Y : g(y)=Z.\] Because any $f(x)\in Y$, we have, for any $z\in Z$, that \[ \exists x\in X : g(f(x)) =Z, \] which means that $g\circ f$ is surjective.
\end{proof}

\paragraph{Exercise 3.3.3.}
\begin{proof}
    We denote the empty function by $f:\emptyset\to A$.

    When $f$ is injective, we have \[ \forall x,x'\in \emptyset: (f(x) = f(x') \implies x=x').\] But $x,x'\notin \emptyset$, so it is vacuously true that $f$ is unconditionally injective. 
    
    When $f$ is surjective, we have \[ \forall y \in A: \exists x\in \emptyset : f(x)=y.\] We consider the case that $A \neq \emptyset$, so we can let $a$ be an element of $A$. There does not exist any $x\in \emptyset$ such that $f(x)=y$, a contradiction. Then we consider the case that $A=\emptyset$. But $y\notin A$ by definition, so it is vacuously true that $f$ is surjective. 
    
    When $f$ is a bijection, $f$ is defined by $f:\emptyset\to\emptyset$.
\end{proof}

\paragraph{Exercise 3.3.4.}
\begin{proof}
    Because $g$ is injective, we have for any $y,y'\in Y$ that \[ g(y)=g(y') \implies y=y' .\] But $g\circ f=g\circ \tilde{f}$, so we have for any $x\in X$ that $ g(f(x)) = g(\tilde{f}(x))$, which implies that $f(x) = \tilde{f}(x)$, which means that $f=\tilde{f}$. 

    % If $g$ is not injective, then for some $y,y'\in Y$, \[ g(y)=g(y') \land y\neq y'.\] But $g\circ f=g\circ \tilde{f}$, so we have for any $x\in X$ that $ g(f(x)) = g(\tilde{f}(x))$, which implies that it can be the case that for some $f(x),\tilde{f}(x)\in Y$, $f(x) \neq \tilde{f}(x)$. So it can be the case that $f\neq \tilde{f}$.

    If $g$ is not injective, we construct a counterexample to show that the statement no longer holds. Let $X=\set{0}$, $Y=\set{0,1}$ and $Z=\set{0}$; let $f(0)\coloneq{0}$; let $\tilde{f}(0)\coloneq{1}$; let $g(0)\coloneq{0}$ and $g(1)\coloneq{0}$. Then $g\circ f(0)=g\circ \tilde{f}(0)=0$. Thus, $g\circ f = g\circ \tilde{f}$. But $f\neq \tilde{f}$.
\end{proof}
\begin{proof}
    Because $f$ is surjective, we have for any $y\in Y$ that \[ \exists x\in X : f(x)=y .\] But $g\circ f=\tilde{g}\circ f$, so we have for any $x\in X$ that $g(f(x))=\tilde{g}(f(x))$. Then, for any $y\in Y$, we have that for any $x\in X$ that $g(f(x))=\tilde{g}(f(x))$, which implies that for any $y\in Y$ we have that $g(y)=\tilde{g}(y)$. Thus, $g = \tilde{g}$.

    % If $f$ is not surjective, we have for some $y\in Y$ that \[ \not\exists x\in X : f(x)=y .\] But $g\circ f=\tilde{g}\circ f$, so we have for any $x\in X$ that $g(f(x))=\tilde{g}(f(x))$. Then, for some $y\in Y$, we have that for any $x\in X$ that $g(f(x))=\tilde{g}(f(x))$, which implies that for some $y\in Y$, there does not exist any $x\in X$ such that $g(y)=\tilde{g}(y)$. Thus, we cannot verify that $g = \tilde{g}$.

    If $f$ is not surjective, we construct a counterexample to show that the statement no longer holds. Let $X=\set{0}$, $Y=\set{0,1}$ and $Z=\set{0,1}$; let $f(0)\coloneq{0}$; let $g(0)\coloneq{0}$ and $g(1)\coloneq{0}$; let $\tilde{g}(0)\coloneq{0}$ and $\tilde{g}(1)\coloneq{1}$. Then $g\circ f(0)=\tilde{g}\circ {f}(0)=0$. Thus, $g\circ f = g\circ \tilde{f}$. But $g\neq \tilde{g}$.
\end{proof}

\paragraph{Exercise 3.3.5.}
\begin{proof}
    For any $x,x'\in X$, we have that \[ g(f(x))=g(f(x')) \implies x = x' .\] If $f(x)=f(x')$, then $g(f(x))=g(f(x'))$, which implies that $x=x'$. Thus, $f$ is injective. 
    
    We construct a counterexample to show that $g$ is not necessarily injective. Let $f:\set{0}\to\set{0,1}$ be defined by $f(0)\coloneq{0}$; let $g:\set{0,1}\to\set{0}$ be defined by $g(0)\coloneq{0}$ and $g(1)\coloneq{0}$. Then $g\circ f$ is clearly injective, but $g$ is not injective.
\end{proof}
\begin{proof}
    For any $z\in Z$, we have that \[ \exists x\in X : g(f(x))=z .\] Because $f(x)\in Y$, it is equivalent to say that \[ \exists f(x)\in Y : g(f(x))=z .\] Thus, $g$ is surjective.

    We construct a counterexample to show that $f$ is not necessarily surjective. Let $f:\set{0}\to\set{0,1}$ be defined by $f(0)\coloneq{0}$; let $g:\set{0,1}\to\set{0}$ be defined by $g(0)\coloneq{0}$ and $g(1)\coloneq{0}$. Then $g\circ f$ is clearly surjective, but $f$ is not surjective.
\end{proof}

\paragraph{Exercise 3.3.6.}
\begin{proof}
    By definition, for all $y\in Y$, $f(x)=y$, where $x$ is denoted $f^{-1}(y)$, so $f(f^{-1}(y))=y$. Because for all $x\in X$, $f(x)\in Y$, we also have $f(f^{-1}(f(x)))=f(x)$. Since $f$ is injective, then $f^{-1}(f(x))=x$ for all $x\in X$.

    For any $y,y'\in Y$, \[f^{-1}(y)=f^{-1}(y') \implies f(f^{-1}(y))=f(f^{-1}(y'))\implies y=y',\] so $f^{-1}$ is injective. We have that $f(x)\in Y$, and that for any $x\in X$, $f^{-1}(f(x)) = x$, which means that for any $x\in X$, $\exists y\in Y : f^{-1}(y)=x$, so $f^{-1}$ is surjective. Therefore, $f^{-1}$ is invertible.

    Denote the inverse of $f^{-1}$ by $g$. For all $x\in X$, $f^{-1}(g(x))=x$. We also have, for all $x\in X$ that $f^{-1}(f(x))=x$. Because $f^{-1}$ is surjective, for all $x\in X$, $g(x)=f(x)$. Thus, $g=f$.
\end{proof}

\paragraph{Exercise 3.3.7.}
\begin{proof}
    For all $y\in Y$, $f(f^{-1}(y))=y$. Because $g^{-1}(z)\in Y$, for all $z\in Z$, $f(f^{-1}(g^{-1}(z)))=g^{-1}(z)$. But for all $z\in Z$, $g(g^{-1}(z))=z$, therefore $g(f(f^{-1}(g^{-1}(z))))=z$, which can be rewritten as $(g\circ f)(f^{-1}\circ g^{-1})(z)=z$. Thus, $f^{-1}\circ g^{-1}$ is the inverse of $g\circ f$.
\end{proof}

\paragraph{Exercise 3.3.8.}
\begin{enumerate}
    \item 
    \begin{proof}
        We have $x\in X \implies x\in Y$. For every $x\in X$, $\iota_{Y\to Z}\circ\iota_{X\to Y}(x)=\iota_{Y\to Z}(x)=x$. For every $x\in X$, $\iota_{X\to Z}(x)=x$. Furthermore, $\iota_{Y\to Z}\circ\iota_{X\to Y}$ and $\iota_{X\to Z}$ are both defined on $X\to Z$, so the two are equal.
    \end{proof}
    \item 
    \begin{proof}
        We have $f(x)\in B$. For every $x\in A$, $f(x)=f(x)$; for every $x\in A$, $f\circ \iota_{A\to A} (x) = f(\iota_{A\to A} (x)) = f(x) $; for every $x\in A$, $\iota_{B\to B} \circ f(x) = \iota_{B\to B}(f(x)) = f(x) $. Furthermore, $f$, $f\circ \iota_{A\to A}$ and $\iota_{B\to B} \circ f$ are all defined on $A\to B$, so the three are equal.
    \end{proof}
    \item 
    \begin{proof}
        Obvious from the previous results.
    \end{proof}
    \item 
    \begin{proof}
        (Existence) We define \[ h(a) = \begin{cases} f(a) & a\in X, \\ g(a) & a\in Y. \end{cases} \] $h\circ \iota_{X\to X\cup Y}$ is defined on $X\to Z$. For every $x\in X$, $h\circ \iota_{X\to X\cup Y}(a)=f(a)$. Thus, $h\circ \iota_{X\to X\cup Y}=f$. Likewise, $h\circ \iota_{Y\to X\cup Y}=g$.
        (Uniqueness) Now, suppose for the sake of contradiction that there exist two different functions $h$ and $\tilde{h}$ which satisfy $h\circ \iota_{X\to X\cup Y}=f$, $h\circ \iota_{Y\to X\cup Y}=g$, $\tilde{h}\circ \iota_{X\to X\cup Y}=f$ and $\tilde{h}\circ \iota_{Y\to X\cup Y}=g$. Then for some $a\in X\cup Y$, we have $h(a)\neq\tilde{h}(a)$. Because $X$ and $Y$ are disjoint, $a\in X\cup Y$ implies that either $a\in X$ or $a\in Y$. We discuss the two cases: If $a\in X$, we have $h\circ \iota_{X\to X\cup Y}(a)=f(a)$ and $\tilde{h}\circ \iota_{X\to X\cup Y}(a)=f(a)$. Thus, $h\circ \iota_{X\to X\cup Y}(a)=\tilde{h}\circ \iota_{X\to X\cup Y}(a)$, which is a contradiction. If $a\in Y$, then similarly there is a contradiction. Thus, there does not exist two different functions $h$ and $\tilde{h}$.
    \end{proof}
\end{enumerate}